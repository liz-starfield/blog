<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.13" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="alternate" hreflang="en-us" href="https://liz-in-tech.github.io/blog/posts/llm/011_vector_database.html"><meta property="og:url" content="https://liz-in-tech.github.io/blog/zh/posts/llm/011_vector_database.html"><meta property="og:site_name" content="Liz"><meta property="og:title" content="å‘é‡æ•°æ®åº“ä¸ç›¸ä¼¼æ€§æœç´¢"><meta property="og:description" content="å‘é‡æ•°æ®åº“ä¸ç›¸ä¼¼æ€§æœç´¢ å‘é‡åµŒå…¥ Vector Embeddings å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦ï¼ˆè·ç¦»ï¼‰è®¡ç®— ä¼ ç»Ÿæ¨èç³»ç»Ÿæ¨¡å— å‘é‡æ•°æ®åº“ ç´¢å¼•ç®—æ³•ï¼šKNNï¼ŒANNï¼ŒNSWï¼ŒHNSWï¼ŒPQ ç¨€ç–æœç´¢Â·å¯†é›†æœç´¢Â·æ··åˆæœç´¢"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:locale:alternate" content="en-US"><meta property="og:updated_time" content="2024-11-09T12:17:18.000Z"><meta property="article:author" content="Liz"><meta property="article:tag" content="Vector"><meta property="article:tag" content="Vector Database"><meta property="article:tag" content="Search"><meta property="article:tag" content="Index"><meta property="article:published_time" content="2024-11-01T00:00:00.000Z"><meta property="article:modified_time" content="2024-11-09T12:17:18.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"å‘é‡æ•°æ®åº“ä¸ç›¸ä¼¼æ€§æœç´¢","image":[""],"datePublished":"2024-11-01T00:00:00.000Z","dateModified":"2024-11-09T12:17:18.000Z","author":[{"@type":"Person","name":"Liz","url":"https://github.com/liz-in-tech"}]}</script><link rel="icon" herf="/blogger.png"><link rel="icon" href="/blog/blogger.png"><title>å‘é‡æ•°æ®åº“ä¸ç›¸ä¼¼æ€§æœç´¢ | Liz</title><meta name="description" content="å‘é‡æ•°æ®åº“ä¸ç›¸ä¼¼æ€§æœç´¢ å‘é‡åµŒå…¥ Vector Embeddings å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦ï¼ˆè·ç¦»ï¼‰è®¡ç®— ä¼ ç»Ÿæ¨èç³»ç»Ÿæ¨¡å— å‘é‡æ•°æ®åº“ ç´¢å¼•ç®—æ³•ï¼šKNNï¼ŒANNï¼ŒNSWï¼ŒHNSWï¼ŒPQ ç¨€ç–æœç´¢Â·å¯†é›†æœç´¢Â·æ··åˆæœç´¢">
    <link rel="preload" href="/blog/assets/style-m_obra2h.css" as="style"><link rel="stylesheet" href="/blog/assets/style-m_obra2h.css">
    <link rel="modulepreload" href="/blog/assets/app-MbMw1XaM.js"><link rel="modulepreload" href="/blog/assets/011_vector_database.html-pXcXWX9V.js"><link rel="modulepreload" href="/blog/assets/011_pq_distance-AD1rQWST.js"><link rel="modulepreload" href="/blog/assets/plugin-vue_export-helper-x3n3nnut.js"><link rel="modulepreload" href="/blog/assets/011_vector_database.html-Akmj-Ub_.js">
    <link rel="prefetch" href="/blog/assets/index.html-YbPtte5_.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-CGfhr1vY.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FUMOuem4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html--TTjrkIy.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-g4Nfr7z1.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-bitGHKd2.js" as="script"><link rel="prefetch" href="/blog/assets/001_langchain.html-nrisQopy.js" as="script"><link rel="prefetch" href="/blog/assets/002_langchain_sourcecode.html-9XtwFAwc.js" as="script"><link rel="prefetch" href="/blog/assets/003_streamlit.html-oji9upQP.js" as="script"><link rel="prefetch" href="/blog/assets/004_transformer.html-xrin91s2.js" as="script"><link rel="prefetch" href="/blog/assets/005_llama.html-q7LEGqjL.js" as="script"><link rel="prefetch" href="/blog/assets/006_llm_leaderboard.html-c628DmZb.js" as="script"><link rel="prefetch" href="/blog/assets/007_computer_use.html-4RcS3hxb.js" as="script"><link rel="prefetch" href="/blog/assets/008_rag_challenge.html-_8stdYVV.js" as="script"><link rel="prefetch" href="/blog/assets/009_llm_challenge.html-eluz3bTT.js" as="script"><link rel="prefetch" href="/blog/assets/010_rag_workflow.html-Ft0RQWf3.js" as="script"><link rel="prefetch" href="/blog/assets/011_vector_database.html-CImz0KSx.js" as="script"><link rel="prefetch" href="/blog/assets/012_prompt_engineering.html-1CqW55t5.js" as="script"><link rel="prefetch" href="/blog/assets/013_optimizing_llm.html-6CxOIR84.js" as="script"><link rel="prefetch" href="/blog/assets/014_rag_evaluation.html-l_kCYUI1.js" as="script"><link rel="prefetch" href="/blog/assets/015_fine_tune.html-48naV3Ea.js" as="script"><link rel="prefetch" href="/blog/assets/016_multimodal.html-XtD4OMNh.js" as="script"><link rel="prefetch" href="/blog/assets/017_agent_and_multiagent.html-dm178NRn.js" as="script"><link rel="prefetch" href="/blog/assets/018_huggingface.html-7ujiqdYY.js" as="script"><link rel="prefetch" href="/blog/assets/019_ollama.html-kLkdC4dl.js" as="script"><link rel="prefetch" href="/blog/assets/020_neo4j.html-61m3-6IM.js" as="script"><link rel="prefetch" href="/blog/assets/021_microsoft_graphrag.html-0d0frUhq.js" as="script"><link rel="prefetch" href="/blog/assets/022_llamaindex_graphrag.html-FazlUPBT.js" as="script"><link rel="prefetch" href="/blog/assets/023_agent_framework.html-5MCDM_Sd.js" as="script"><link rel="prefetch" href="/blog/assets/024_distribution_and_parallelism.html-uCefT9T7.js" as="script"><link rel="prefetch" href="/blog/assets/025_distribution_and_parallelism_1.html-32IzAErP.js" as="script"><link rel="prefetch" href="/blog/assets/026_distribution_and_parallelism_2.html-MEZ1JY2b.js" as="script"><link rel="prefetch" href="/blog/assets/027_distribution_and_parallelism_3.html-IYByZhbZ.js" as="script"><link rel="prefetch" href="/blog/assets/028_distribution_and_parallelism_4.html-Kub1JEXd.js" as="script"><link rel="prefetch" href="/blog/assets/029_unsloth_grpo.html-T25XLAW-.js" as="script"><link rel="prefetch" href="/blog/assets/030_wandb.html-61V6KLeo.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ZDCSnlc1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ZYw6WxxA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OavE9BET.js" as="script"><link rel="prefetch" href="/blog/assets/001_langchain.html-hE_T0u_5.js" as="script"><link rel="prefetch" href="/blog/assets/002_langchain_sourcecode.html-iH0mq6XB.js" as="script"><link rel="prefetch" href="/blog/assets/003_streamlit.html-WyFhRqF6.js" as="script"><link rel="prefetch" href="/blog/assets/004_transformer.html-YaT0PR6o.js" as="script"><link rel="prefetch" href="/blog/assets/005_llama.html-x2qtCXhJ.js" as="script"><link rel="prefetch" href="/blog/assets/006_llm_leaderboard.html-WHPR-17-.js" as="script"><link rel="prefetch" href="/blog/assets/007_computer_use.html-hz6Q-DAA.js" as="script"><link rel="prefetch" href="/blog/assets/008_rag_challenge.html-3KMCwhrh.js" as="script"><link rel="prefetch" href="/blog/assets/009_llm_challenge.html-7gxKMp_3.js" as="script"><link rel="prefetch" href="/blog/assets/010_rag_workflow.html-KndRvZAj.js" as="script"><link rel="prefetch" href="/blog/assets/012_prompt_engineering.html-bXz0YlpJ.js" as="script"><link rel="prefetch" href="/blog/assets/013_optimizing_llm.html-W-CdR_ck.js" as="script"><link rel="prefetch" href="/blog/assets/014_rag_evaluation.html-aq7YkQ-T.js" as="script"><link rel="prefetch" href="/blog/assets/015_fine_tune.html-egR6ajJ8.js" as="script"><link rel="prefetch" href="/blog/assets/016_multimodal.html-DCPUUxWe.js" as="script"><link rel="prefetch" href="/blog/assets/017_agent_and_multiagent.html-RlA7g4kG.js" as="script"><link rel="prefetch" href="/blog/assets/018_huggingface.html-YkW8PRbE.js" as="script"><link rel="prefetch" href="/blog/assets/019_ollama.html-V5tcXCC4.js" as="script"><link rel="prefetch" href="/blog/assets/020_neo4j.html-qFyQHNwt.js" as="script"><link rel="prefetch" href="/blog/assets/021_microsoft_graphrag.html-kvlLpO3f.js" as="script"><link rel="prefetch" href="/blog/assets/022_llamaindex_graphrag.html-AiRwjg9s.js" as="script"><link rel="prefetch" href="/blog/assets/023_agent_framework.html-VZsN2kO8.js" as="script"><link rel="prefetch" href="/blog/assets/024_distribution_and_parallelism.html-MO4kg9bC.js" as="script"><link rel="prefetch" href="/blog/assets/025_distribution_and_parallelism_1.html-ZR9kuXUl.js" as="script"><link rel="prefetch" href="/blog/assets/026_distribution_and_parallelism_2.html-GkjDPoeT.js" as="script"><link rel="prefetch" href="/blog/assets/027_distribution_and_parallelism_3.html-5kFJGreK.js" as="script"><link rel="prefetch" href="/blog/assets/028_distribution_and_parallelism_4.html-38Gbieji.js" as="script"><link rel="prefetch" href="/blog/assets/029_unsloth_grpo.html-sutxVW-j.js" as="script"><link rel="prefetch" href="/blog/assets/030_wandb.html-VCoqJJSk.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-wh_dBtOR.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-cxLWDy2T.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kf4JCRaf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-RkA-insV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4kI_oqSd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-WhuidxNt.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OqGkeUA_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5GeN-sdD.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c4Rf4yh1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2r0jUs7o.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BSKRXRQc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-KjTsJ0Hg.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-TteIwMx3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-g00XXzrL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-YxbJgo4L.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3T79Cy0i.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-A5tlQHan.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-04ff5e0O.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-vgZ6rfFh.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OmipPplE.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-E1KrJL6a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-oPH9QkTj.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cHRqZSs8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-74SU9ZTn.js" as="script"><link rel="prefetch" href="/blog/assets/index.html--iJiA8oX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-oZPWb_Fc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FUIWSLsp.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5ERWyusD.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Zjn0JNqd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-jcvPTrgB.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9t2TsyuQ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CcLVFNIv.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DVoYOOaL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-V52ipvRm.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9If_KW0o.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-df9Mrf2R.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f9bWoKcO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-GYH0QUoo.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-JVTfeijx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_C1QVNqX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-L_IXFmna.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-nZWHmXY7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-x4gPgqE4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bWnVyuyA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html--yTU23ka.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-tRnpyzfw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7aypos-L.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1BXcbV1R.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-pu478WKz.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-LHukpLS7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-howjHe2f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DeN_iOWx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cnlzR0a7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0P_c_pcU.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-dy_CcFmq.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FzFytZ_p.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2KSwV7xp.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-F1coElwg.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ffflqCb9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-F8ZuLYgH.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-HeYWaFeL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-xKYeJEc5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-xB-iS7Ql.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OEUPqfTV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-EE4iQI9m.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-g1PUF_BG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-nUBcs85a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9Y3la5Sf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-wufIFDPM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bXZQIxRE.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-wd6ZkEHi.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Xlk0AXmC.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Uv7c7pYa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FfZqC9tZ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-mSPhZxqB.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-51HoKD5A.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Q5_K6Vux.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-jkWPo860.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kTEqch5G.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-y4iBqBqc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ibHhI9SI.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3hk_s27_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-QJ9j3Zl2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-QvWFHL99.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Pefl6i_g.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-KUO1u5tW.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-Alxfah1Q.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-lZqtT1AY.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2mIxyx_K.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-xdatVQgj.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-qt23oyb2.js" as="script"><link rel="prefetch" href="/blog/assets/001_langchain.html-UKJO8_Jh.js" as="script"><link rel="prefetch" href="/blog/assets/002_langchain_sourcecode.html-fHKlVye5.js" as="script"><link rel="prefetch" href="/blog/assets/003_streamlit.html-kx5XHS6W.js" as="script"><link rel="prefetch" href="/blog/assets/004_transformer.html-_3YMNPlB.js" as="script"><link rel="prefetch" href="/blog/assets/005_llama.html-flI38M63.js" as="script"><link rel="prefetch" href="/blog/assets/006_llm_leaderboard.html-KP1H91_Y.js" as="script"><link rel="prefetch" href="/blog/assets/007_computer_use.html-UkXfFsYg.js" as="script"><link rel="prefetch" href="/blog/assets/008_rag_challenge.html-7WVbDdwd.js" as="script"><link rel="prefetch" href="/blog/assets/009_llm_challenge.html-wfkSOTDD.js" as="script"><link rel="prefetch" href="/blog/assets/010_rag_workflow.html-RDb3ULn4.js" as="script"><link rel="prefetch" href="/blog/assets/011_vector_database.html-ExyxGyNd.js" as="script"><link rel="prefetch" href="/blog/assets/012_prompt_engineering.html-7ECMxd74.js" as="script"><link rel="prefetch" href="/blog/assets/013_optimizing_llm.html-fzRHtvts.js" as="script"><link rel="prefetch" href="/blog/assets/014_rag_evaluation.html-7cSa1_nP.js" as="script"><link rel="prefetch" href="/blog/assets/015_fine_tune.html-KMBaWrQh.js" as="script"><link rel="prefetch" href="/blog/assets/016_multimodal.html-O9p8snZa.js" as="script"><link rel="prefetch" href="/blog/assets/017_agent_and_multiagent.html-82liVAWw.js" as="script"><link rel="prefetch" href="/blog/assets/018_huggingface.html-kx37P_K5.js" as="script"><link rel="prefetch" href="/blog/assets/019_ollama.html-KbBlitho.js" as="script"><link rel="prefetch" href="/blog/assets/020_neo4j.html-_aJtotJH.js" as="script"><link rel="prefetch" href="/blog/assets/021_microsoft_graphrag.html-VWEn--Gq.js" as="script"><link rel="prefetch" href="/blog/assets/022_llamaindex_graphrag.html-nkILP_G9.js" as="script"><link rel="prefetch" href="/blog/assets/023_agent_framework.html-PZjjjxVZ.js" as="script"><link rel="prefetch" href="/blog/assets/024_distribution_and_parallelism.html--9uOUvpB.js" as="script"><link rel="prefetch" href="/blog/assets/025_distribution_and_parallelism_1.html-ZjSdDETT.js" as="script"><link rel="prefetch" href="/blog/assets/026_distribution_and_parallelism_2.html-svwJZhIn.js" as="script"><link rel="prefetch" href="/blog/assets/027_distribution_and_parallelism_3.html-5Rhr3CzN.js" as="script"><link rel="prefetch" href="/blog/assets/028_distribution_and_parallelism_4.html-EaP4yXg0.js" as="script"><link rel="prefetch" href="/blog/assets/029_unsloth_grpo.html-i5Sm6CWU.js" as="script"><link rel="prefetch" href="/blog/assets/030_wandb.html-iTLPPKmY.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-69OvpA8K.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OIi_TJAu.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-8ai2PaLk.js" as="script"><link rel="prefetch" href="/blog/assets/001_langchain.html-RqvDBoCS.js" as="script"><link rel="prefetch" href="/blog/assets/002_langchain_sourcecode.html-K5wHoGDC.js" as="script"><link rel="prefetch" href="/blog/assets/003_streamlit.html-ARLBgIF0.js" as="script"><link rel="prefetch" href="/blog/assets/004_transformer.html-LeZp3ypu.js" as="script"><link rel="prefetch" href="/blog/assets/005_llama.html-2A_WJgAE.js" as="script"><link rel="prefetch" href="/blog/assets/006_llm_leaderboard.html-d9btp2Gr.js" as="script"><link rel="prefetch" href="/blog/assets/007_computer_use.html-Pfuh7j5G.js" as="script"><link rel="prefetch" href="/blog/assets/008_rag_challenge.html-nLfh26oB.js" as="script"><link rel="prefetch" href="/blog/assets/009_llm_challenge.html-oVXv2Jg3.js" as="script"><link rel="prefetch" href="/blog/assets/010_rag_workflow.html-TyA5Pw8X.js" as="script"><link rel="prefetch" href="/blog/assets/012_prompt_engineering.html-L_43AOrs.js" as="script"><link rel="prefetch" href="/blog/assets/013_optimizing_llm.html-9WyJqZTp.js" as="script"><link rel="prefetch" href="/blog/assets/014_rag_evaluation.html-Wl9QYLQ-.js" as="script"><link rel="prefetch" href="/blog/assets/015_fine_tune.html-6PQvluRQ.js" as="script"><link rel="prefetch" href="/blog/assets/016_multimodal.html-GXLxOJLE.js" as="script"><link rel="prefetch" href="/blog/assets/017_agent_and_multiagent.html-q_d1IX2W.js" as="script"><link rel="prefetch" href="/blog/assets/018_huggingface.html-K1gtu599.js" as="script"><link rel="prefetch" href="/blog/assets/019_ollama.html-tYOOCSL4.js" as="script"><link rel="prefetch" href="/blog/assets/020_neo4j.html-_8uFcHH-.js" as="script"><link rel="prefetch" href="/blog/assets/021_microsoft_graphrag.html-eS0rZwc0.js" as="script"><link rel="prefetch" href="/blog/assets/022_llamaindex_graphrag.html-3CMnPnFz.js" as="script"><link rel="prefetch" href="/blog/assets/023_agent_framework.html-g0ZM44qm.js" as="script"><link rel="prefetch" href="/blog/assets/024_distribution_and_parallelism.html-ANo1qs3W.js" as="script"><link rel="prefetch" href="/blog/assets/025_distribution_and_parallelism_1.html-E6ceKPvz.js" as="script"><link rel="prefetch" href="/blog/assets/026_distribution_and_parallelism_2.html-d-DfjgCR.js" as="script"><link rel="prefetch" href="/blog/assets/027_distribution_and_parallelism_3.html-PGWq8qge.js" as="script"><link rel="prefetch" href="/blog/assets/028_distribution_and_parallelism_4.html-lHbsJb51.js" as="script"><link rel="prefetch" href="/blog/assets/029_unsloth_grpo.html-E0FFThsU.js" as="script"><link rel="prefetch" href="/blog/assets/030_wandb.html-JBHoSiRQ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-sC7OqXjX.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-rCllEofv.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-JYHe9vFC.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bHnBSuNQ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-AdcKoSkc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-gF8WuMe8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Yb7kGptq.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6QZJ-yQe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BnIVUGev.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B1fw2LUI.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ej5uzs5s.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-RgGc_Bpp.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-GLh_UBAb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-SJ-2s_E-.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-vioT1obs.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-UilfCPQU.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-S_PyM2SF.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-jWmAUxpy.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Lllp8HPG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-qFtOF7mK.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f_5YyWOK.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-gO5LtZKp.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-LlzMS-XN.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0d3ney_r.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-RauWrgyB.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-vlBrG1LK.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DlEGSI9o.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-XCszNFbN.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-w9INOzQa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9FPHmX-V.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kV1jRwrw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-MSvoZLfg.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-sxHOVZ1Z.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Jw8-p2T9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7KkfHAuI.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Ye65Wc2L.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-o8G1R6PH.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FVaGtO0e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D37UuVYT.js" as="script"><link rel="prefetch" href="/blog/assets/index.html--565ON8W.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-q26bfhnF.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-orsHUQN8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-UTL1eABA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-SjNEBHAO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7zbXYpkH.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-NWork3dR.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fd4Vx6Yo.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_Nvoz74D.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-IBvzdwO4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kwA3EaRu.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Q5VTO7rR.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_M3sDwvp.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1wB1zLp0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bEFw1edV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6ZYeqtG3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-NRzIu3lW.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OJYGc2fP.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DxfTMdrM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-86EfojbM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-gU_OpQYr.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Yz-CJlAx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_ZI8u2qD.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-n65_mGEG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-MCdVmISq.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-rDRSvPHM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-WNpRHOF-.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ZqWbzt8-.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-wSdp360O.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-SEtBY6ik.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-gIs_033_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-VCdVRTZd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7M7wznqJ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html--h_MfmO7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Mv0FHUIv.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_HU2a0d5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6YZz2sdI.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-X-DaO8D_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kbsQBBUi.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6nMAM8Wh.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-h0m2FLsl.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-qwkkKB1e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-sdK85HRX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B1UKo1Rg.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-QvJONzGw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kHRAHmpZ.js" as="script"><link rel="prefetch" href="/blog/assets/photoswipe.esm-08_zHRDQ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/blog/zh/"><img class="vp-nav-logo" src="/blog/blogger.png" alt><!----><span class="vp-site-name hide-in-pad">Liz</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="é¦–é¡µ" class="vp-link nav-link nav-link" href="/blog/zh/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="é¡¹ç›®" class="vp-link nav-link nav-link" href="/blog/zh/demo/"><span class="font-icon icon fa-fw fa-sm fas fa-star" style=""></span>é¡¹ç›®<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="é€‰æ‹©è¯­è¨€"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="English" class="vp-link nav-link nav-link" href="/blog/posts/llm/011_vector_database.html"><!---->English<!----></a></li><li class="dropdown-item"><a aria-label="ç®€ä½“ä¸­æ–‡" class="vp-link nav-link active nav-link active" href="/blog/zh/posts/llm/011_vector_database.html"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li></ul></button></div></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/liz-in-tech" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>å‘é‡æ•°æ®åº“ä¸ç›¸ä¼¼æ€§æœç´¢</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/liz-in-tech" target="_blank" rel="noopener noreferrer">Liz</a></span><span property="author" content="Liz"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-11-01T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 17 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT17M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category6 clickable" role="navigation">LLM</span><!--]--><meta property="articleSection" content="LLM"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag6 clickable" role="navigation">Vector</span><span class="page-tag-item tag4 clickable" role="navigation">Vector Database</span><span class="page-tag-item tag8 clickable" role="navigation">Search</span><span class="page-tag-item tag2 clickable" role="navigation">Index</span><!--]--><meta property="keywords" content="Vector,Vector Database,Search,Index"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-å‘é‡åµŒå…¥-vector-embeddings">1. å‘é‡åµŒå…¥ Vector Embeddings</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦-è·ç¦»-è®¡ç®—">2. å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦ï¼ˆè·ç¦»ï¼‰è®¡ç®—</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-ä¼ ç»Ÿæ¨èç³»ç»Ÿæ¨¡å—">3. ä¼ ç»Ÿæ¨èç³»ç»Ÿæ¨¡å—</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-1-åˆ†ç±»">3.1. åˆ†ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-2-è¾“å…¥">3.2. è¾“å…¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-3-ç›®æ ‡">3.3. ç›®æ ‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-4-æ€è·¯">3.4. æ€è·¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-5-ä¼ ç»Ÿæ¨èç³»ç»Ÿæµç¨‹">3.5. ä¼ ç»Ÿæ¨èç³»ç»Ÿæµç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-6-ç»“åˆllmçš„æ¨èç³»ç»Ÿ">3.6. ç»“åˆLLMçš„æ¨èç³»ç»Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_4-å‘é‡æ•°æ®åº“">4. å‘é‡æ•°æ®åº“</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_4-1-å‘é‡æ•°æ®åº“-è§£å†³æ•ˆç‡é—®é¢˜">4.1. å‘é‡æ•°æ®åº“ï¼šè§£å†³æ•ˆç‡é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_4-2-å‘é‡æ•°æ®åº“äº§å“">4.2. å‘é‡æ•°æ®åº“äº§å“</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_4-3-å‘é‡æ•°æ®åº“æ¯”è¾ƒ">4.3. å‘é‡æ•°æ®åº“æ¯”è¾ƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_4-4-ç´¢å¼•ç®—æ³•">4.4. ç´¢å¼•ç®—æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_4-5-ç´¢å¼•è¯„ä»·æ ‡å‡†">4.5. ç´¢å¼•è¯„ä»·æ ‡å‡†</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_5-æœç´¢">5. æœç´¢</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_5-1-ç¨€ç–æœç´¢-å…³é”®è¯æœç´¢-vs-å¯†é›†æœç´¢-å‘é‡æœç´¢-è¯­ä¹‰æœç´¢">5.1. ç¨€ç–æœç´¢(å…³é”®è¯æœç´¢) vs å¯†é›†æœç´¢(å‘é‡æœç´¢/è¯­ä¹‰æœç´¢)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_5-2-ç¨€ç–æœç´¢">5.2. ç¨€ç–æœç´¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_5-3-æ··åˆæœç´¢">5.3. æ··åˆæœç´¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_5-4-å¤šè¯­è¨€æœç´¢">5.4. å¤šè¯­è¨€æœç´¢</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_6-å…³é”®è¯åŒ¹é…ç®—æ³•-bm25-best-matching-25-æœ€ä½³åŒ¹é…25">6. å…³é”®è¯åŒ¹é…ç®—æ³•ï¼šBM25 ï¼ˆBest Matching 25, æœ€ä½³åŒ¹é…25ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_7-å€’æ’ç´¢å¼•-å€’æ’æ–‡ä»¶ç´¢å¼•-åå‘æ–‡ä»¶ç´¢å¼•-inverted-index-inverted-file-index-ivf-å¿«é€Ÿæœç´¢æ–‡æœ¬">7. å€’æ’ç´¢å¼•/å€’æ’æ–‡ä»¶ç´¢å¼•/åå‘æ–‡ä»¶ç´¢å¼•ï¼ˆInverted Index / Inverted File Indexï¼ŒIVFï¼‰- å¿«é€Ÿæœç´¢æ–‡æœ¬</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_8-knn-æœ€è¿‘é‚»ç®—æ³•-knnæœç´¢-è›®åŠ›æœç´¢">8. KNN (æœ€è¿‘é‚»ç®—æ³•, KNNæœç´¢ï¼Œè›®åŠ›æœç´¢)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_9-è¿‘ä¼¼knn-æŠŠç©ºé—´åˆ†æˆè‹¥å¹²ä¸ªæ¨¡å—">9. è¿‘ä¼¼KNN-æŠŠç©ºé—´åˆ†æˆè‹¥å¹²ä¸ªæ¨¡å—</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_9-1-è¾¹ç•Œé—®é¢˜">9.1. è¾¹ç•Œé—®é¢˜</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_10-ann-approximate-nearest-neighbours-è¿‘ä¼¼æœ€è¿‘é‚»ç®—æ³•">10. ANNï¼ˆApproximate Nearest Neighboursï¼Œè¿‘ä¼¼æœ€è¿‘é‚»ç®—æ³•ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_11-nsw-navigable-small-world-å¯å¯¼èˆªå°ä¸–ç•Œ">11. NSWï¼ˆNavigable Small Worldï¼Œå¯å¯¼èˆªå°ä¸–ç•Œï¼‰</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_11-1-å›¾çš„æ„å»º-one-by-one">11.1. å›¾çš„æ„å»ºï¼ˆone by oneï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_11-2-æœç´¢">11.2. æœç´¢</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_12-hnsw-hierarchical-navigable-small-world-åˆ†å±‚å¯å¯¼èˆªå°ä¸–ç•Œ">12. HNSW (Hierarchical Navigable Small Worldï¼Œåˆ†å±‚å¯å¯¼èˆªå°ä¸–ç•Œ)</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_12-1-æ„å»º-åˆ†å±‚ç»“æ„">12.1. æ„å»º-åˆ†å±‚ç»“æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_12-2-æŸ¥è¯¢">12.2. æŸ¥è¯¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_12-3-è¿›ä¸€æ­¥ä¼˜åŒ–-hnsw-è¿‘ä¼¼knn">12.3. è¿›ä¸€æ­¥ä¼˜åŒ–ï¼šHNSW + è¿‘ä¼¼KNN</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_13-ä¹˜ç§¯é‡åŒ–-product-quantization-pq">13. ä¹˜ç§¯é‡åŒ– Product Quantization (PQ)</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_13-1-æ„å»º">13.1. æ„å»º</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_13-2-æŸ¥è¯¢">13.2. æŸ¥è¯¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_13-3-è¿›ä¸€æ­¥ä¼˜åŒ–">13.3. è¿›ä¸€æ­¥ä¼˜åŒ–</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_14-references">14. References</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="å‘é‡æ•°æ®åº“ä¸ç›¸ä¼¼æ€§æœç´¢" tabindex="-1"><a class="header-anchor" href="#å‘é‡æ•°æ®åº“ä¸ç›¸ä¼¼æ€§æœç´¢" aria-hidden="true">#</a> å‘é‡æ•°æ®åº“ä¸ç›¸ä¼¼æ€§æœç´¢</h1><ul><li><ol><li>å‘é‡åµŒå…¥ Vector Embeddings</li></ol></li><li><ol start="2"><li>å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦ï¼ˆè·ç¦»ï¼‰è®¡ç®—</li></ol></li><li><ol start="3"><li>ä¼ ç»Ÿæ¨èç³»ç»Ÿæ¨¡å—</li></ol></li><li><ol start="4"><li>å‘é‡æ•°æ®åº“</li></ol></li><li><ol start="5"><li>ç´¢å¼•ç®—æ³•ï¼šKNNï¼ŒANNï¼ŒNSWï¼ŒHNSWï¼ŒPQ</li></ol></li><li><ol start="6"><li>ç¨€ç–æœç´¢Â·å¯†é›†æœç´¢Â·æ··åˆæœç´¢</li></ol></li></ul><!-- more --><h2 id="_1-å‘é‡åµŒå…¥-vector-embeddings" tabindex="-1"><a class="header-anchor" href="#_1-å‘é‡åµŒå…¥-vector-embeddings" aria-hidden="true">#</a> 1. å‘é‡åµŒå…¥ Vector Embeddings</h2><ul><li>å‘é‡åµŒå…¥æ•æ‰äº†åº•å±‚æ•°æ®çš„å«ä¹‰ï¼Œå¯ä»¥æŠŠå‘é‡åµŒå…¥çœ‹ä½œæ˜¯æ•°æ®çš„æœºå™¨å¯ç†è§£çš„æ ¼å¼</li><li>Embeddingæ¨¡å‹ <ul><li>å¼€æºåº“sentence-transformers <ul><li>å¯é€šè¿‡ Hugging Face æ¨¡å‹åº“æˆ–ç›´æ¥ä»æºä»£ç ä»“åº“è·å–</li><li>æä¾›äº†ç»´åº¦åœ¨ 384ã€512 å’Œ 768 èŒƒå›´å†…çš„åµŒå…¥æ¨¡å‹</li></ul></li><li>ä»˜è´¹APIæœåŠ¡ <ul><li>OpenAI åµŒå…¥ API <ul><li>ç»´åº¦è¾ƒé«˜ï¼Œå…·æœ‰æ›´é«˜çš„è´¨é‡ï¼Œè¾¾åˆ°å‡ åƒç»´</li></ul></li><li>Cohere åµŒå…¥ API <ul><li>Cohere ä»¥æ‹¥æœ‰é«˜è´¨é‡çš„å¤šè¯­è¨€åµŒå…¥æ¨¡å‹è€Œé—»åï¼Œå…¶æ€§èƒ½ä¼˜äºå¼€æºå˜ä½“</li></ul></li></ul></li></ul></li><li>Embeddingsè¯„æµ‹æ’è¡Œæ¦œ ï¼šMTEBæ’è¡Œæ¦œï¼šhttps://huggingface.co/spaces/mteb/leaderboard</li></ul><h2 id="_2-å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦-è·ç¦»-è®¡ç®—" tabindex="-1"><a class="header-anchor" href="#_2-å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦-è·ç¦»-è®¡ç®—" aria-hidden="true">#</a> 2. å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦ï¼ˆè·ç¦»ï¼‰è®¡ç®—</h2><p>ç›¸ä¼¼åº¦è¶Šå¤§ï¼Œè·ç¦»è¶Šå°ï¼Œä¸¤è€…çš„å¤§å°æ˜¯ç›¸åçš„ã€‚</p><p>4ç§è·ç¦»æŒ‡æ ‡</p><p>ç‚¹ç§¯å’Œä½™å¼¦è·ç¦»è¿™ä¸¤ä¸ªåœ¨NLPé¢†åŸŸå¹¿æ³›ä½¿ç”¨</p><ul><li>æ¬§å‡ é‡Œå¾—è·ç¦» Euclidean Distance(L2) <ul><li>è®¡ç®—æœ€çŸ­è·¯å¾„</li><li>è¾ƒå°çš„å€¼æ˜¯æ›´å¥½çš„åŒ¹é…</li></ul></li></ul><figure><img src="/blog/assets/011_euclidean_distance-MWqly83b.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>æ›¼å“ˆé¡¿è·ç¦» Manhattan Distance(L1) <ul><li>æ¯æ¬¡åªèƒ½ä»¥ä¸€ä¸ªæ–¹å‘è½´ç§»åŠ¨</li><li>è¾ƒå°çš„å€¼æ˜¯æ›´å¥½çš„åŒ¹é…</li></ul></li></ul><figure><img src="/blog/assets/011_manhattan_distance-U28P_uAi.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>ç‚¹ç§¯ Dot Product <ul><li>ä¸€ä¸ªå‘é‡åœ¨å¦ä¸€ä¸ªå‘é‡ä¸Šçš„æŠ•å½±</li><li>äº§ç”Ÿä¸€ä¸ªéè§„èŒƒåŒ–çš„å€¼ï¼Œå…·æœ‰ä»»æ„å¤§å°</li><li>è¾ƒå¤§çš„å€¼æ˜¯æ›´å¥½çš„åŒ¹é…ï¼Œè´Ÿå€¼é€šå¸¸æ„å‘³ç€å®é™…ä¸Šç›¸è·ç”šè¿œ</li></ul></li></ul><figure><img src="/blog/assets/011_dot_product-qAW9G8qQ.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>ä½™å¼¦è·ç¦» Cosine Distance <ul><li>è®¡ç®—å¤¹è§’</li><li>äº§ç”Ÿä¸€ä¸ªè§„èŒƒåŒ–çš„å€¼ï¼ˆä»‹äº -1 å’Œ 1 ä¹‹é—´ï¼‰</li><li>è¾ƒå°çš„å€¼æ˜¯æ›´å¥½çš„åŒ¹é…</li></ul></li></ul><figure><img src="/blog/assets/011_cosine_distance-UmtgmK-M.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_3-ä¼ ç»Ÿæ¨èç³»ç»Ÿæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_3-ä¼ ç»Ÿæ¨èç³»ç»Ÿæ¨¡å—" aria-hidden="true">#</a> 3. ä¼ ç»Ÿæ¨èç³»ç»Ÿæ¨¡å—</h2><h3 id="_3-1-åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_3-1-åˆ†ç±»" aria-hidden="true">#</a> 3.1. åˆ†ç±»</h3><ul><li>åŸºäºå†…å®¹çš„æ¨è <ul><li>åŸºäºä¹‹å‰å–œæ¬¢çš„å†…å®¹</li><li>ä¼˜ï¼šæ¨èçš„éƒ½æ˜¯æ˜ç¡®ç”¨æˆ·æ„Ÿå…´è¶£çš„</li><li>ç¼ºï¼šä¸ä¼šæ¨èä¹‹å‰æ²¡çœ‹è¿‡çš„ç±»å‹</li></ul></li><li>åŸºäºååŒè¿‡æ»¤çš„æ¨è <ul><li>æ¨èæœ‹å‹å–œæ¬¢çš„å†…å®¹</li><li>ä¼˜ï¼šä¼šæ¨èä¹‹å‰æ²¡æœ‰çœ‹è¿‡çš„ç±»å‹</li><li>ç¼ºï¼šå¯èƒ½æ¨èçš„å†…å®¹ç”¨æˆ·ä¸æ„Ÿå…´è¶£</li></ul></li></ul><h3 id="_3-2-è¾“å…¥" tabindex="-1"><a class="header-anchor" href="#_3-2-è¾“å…¥" aria-hidden="true">#</a> 3.2. è¾“å…¥</h3><ul><li>1.è¡Œä¸ºï¼ˆeg.çœ‹è¿‡çš„æ–‡ç« ï¼Œç‚¹å‡»çš„æ–‡ç« ï¼‰</li><li>2.ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</li><li>3.æ–‡ç« åˆ—è¡¨list</li></ul><h3 id="_3-3-ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#_3-3-ç›®æ ‡" aria-hidden="true">#</a> 3.3. ç›®æ ‡</h3><ul><li>æ¨èæ–°çš„å†…å®¹</li></ul><h3 id="_3-4-æ€è·¯" tabindex="-1"><a class="header-anchor" href="#_3-4-æ€è·¯" aria-hidden="true">#</a> 3.4. æ€è·¯</h3><ul><li>é€šè¿‡ç”¨æˆ·çš„è¡Œä¸ºå’ŒåŸºæœ¬ä¿¡æ¯å»ºç«‹ç”¨æˆ·ç”»åƒprofile <ul><li>ç”¨æˆ·å‘é‡ï¼ˆå’Œæ ‡ç­¾ç±»ä¼¼ï¼Œåªä¸è¿‡è¿™ä¸ªåé¢éƒ½æ˜¯å‘é‡ï¼Œé‚£ä¸ªæ˜¯å†…å®¹ï¼‰</li><li>æ ‡ç­¾ï¼ˆå–œæ¬¢çš„è¯é¢˜ï¼Œä¸å–œæ¬¢çš„è¯é¢˜ï¼Œåå¥½ç­‰ï¼‰ <ul><li>ç”¨æˆ·çœ‹è¿‡çš„æ–‡ç« æ ‡ç­¾ï¼ˆå·²æä¾›çš„ï¼Œå­¦å‡ºæ¥çš„ï¼‰çš„é›†åˆ</li></ul></li></ul></li><li>é€šè¿‡æ ‡ç­¾tagsä»æ–‡ç« åº“ä¸­å¬å›ï¼ˆRecallï¼‰å€™é€‰é›†ï¼ˆCandidatesï¼‰ <ul><li>å¯ä»¥è®¾è®¡å¤šæ¬¡å¬å›</li></ul></li><li>ç²—æ’+ç²¾æ’ï¼ˆRankï¼‰ <ul><li>å¯ä»¥è®¾è®¡å¤šæ¬¡æ’åº</li><li>è€ƒè™‘ <ul><li>ç”¨æˆ·å…´è¶£å˜åŒ–</li><li>æ–‡ç« çš„æ¥æºå’Œæ—¶æ•ˆæ€§</li><li>ç”¨æˆ·æ›´ç»†è‡´çš„å…´è¶£çˆ±å¥½æŒ–æ˜</li></ul></li></ul></li><li>top 10 æ–‡ç« </li></ul><h3 id="_3-5-ä¼ ç»Ÿæ¨èç³»ç»Ÿæµç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-5-ä¼ ç»Ÿæ¨èç³»ç»Ÿæµç¨‹" aria-hidden="true">#</a> 3.5. ä¼ ç»Ÿæ¨èç³»ç»Ÿæµç¨‹</h3><p>æ–‡ç« -&gt;ç”¨æˆ·profile-&gt;Recall-&gt;Candidates-&gt;Rank-&gt;Top10</p><ul><li>1.æ–‡ç« -&gt;ç”¨æˆ·profile</li><li>2.ç”¨æˆ·profile-&gt;Recall</li><li>3.Recall-&gt;Candidates</li><li>4.Candidates-&gt;Rank</li><li>5.Rank-&gt;Top10</li></ul><h3 id="_3-6-ç»“åˆllmçš„æ¨èç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#_3-6-ç»“åˆllmçš„æ¨èç³»ç»Ÿ" aria-hidden="true">#</a> 3.6. ç»“åˆLLMçš„æ¨èç³»ç»Ÿ</h3><p>æ€è€ƒï¼Œå“ªäº›æµç¨‹å¯ä»¥åŠ å…¥LLMï¼š</p><ul><li>Step1 <ul><li>é‡‡ç”¨LLMæŠ½å–Tags</li></ul></li><li>Step4 <ul><li>é‡‡ç”¨LLMè¿›è¡Œæ’åº</li></ul></li></ul><h2 id="_4-å‘é‡æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#_4-å‘é‡æ•°æ®åº“" aria-hidden="true">#</a> 4. å‘é‡æ•°æ®åº“</h2><h3 id="_4-1-å‘é‡æ•°æ®åº“-è§£å†³æ•ˆç‡é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4-1-å‘é‡æ•°æ®åº“-è§£å†³æ•ˆç‡é—®é¢˜" aria-hidden="true">#</a> 4.1. å‘é‡æ•°æ®åº“ï¼šè§£å†³æ•ˆç‡é—®é¢˜</h3><p>å‘é‡æ•°æ®åº“åœ¨ç”Ÿæˆå¼äººå·¥æ™ºèƒ½çˆ†å‘å‰å°±å­˜åœ¨äº†ï¼Œé•¿æœŸä»¥æ¥ä¸€ç›´æ˜¯è¯­ä¹‰æœç´¢åº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œè¿™äº›åº”ç”¨ç¨‹åºæ ¹æ®å•è¯æˆ–çŸ­è¯­çš„å«ä¹‰çš„ç›¸ä¼¼æ€§æœç´¢è€Œä¸æ˜¯ç²¾ç¡®åŒ¹é…å…³é”®è¯çš„æœç´¢ã€‚</p><p>å‘é‡æ•°æ®åº“çš„ä¸»è¦ç›®æ ‡æ˜¯æä¾›ä¸€ç§å¿«é€Ÿé«˜æ•ˆçš„æ–¹æ³•æ¥å­˜å‚¨å’Œè¿›è¡Œè¯­ä¹‰æŸ¥è¯¢æ•°æ®</p><ul><li>åŸå…ˆï¼šå’Œæ¯ä¸ªå‘é‡è¿›è¡Œç›¸ä¼¼åº¦è®¡ç®—</li><li>ç°åœ¨ï¼šè¿‘ä¼¼æœç´¢ approximate search</li></ul><h3 id="_4-2-å‘é‡æ•°æ®åº“äº§å“" tabindex="-1"><a class="header-anchor" href="#_4-2-å‘é‡æ•°æ®åº“äº§å“" aria-hidden="true">#</a> 4.2. å‘é‡æ•°æ®åº“äº§å“</h3><ul><li>å¼€æº &amp; é—­æº <ul><li>åœ¨åˆ—å‡ºçš„æ‰€æœ‰é€‰é¡¹ä¸­ï¼Œåªæœ‰ä¸€ä¸ªæ˜¯å®Œå…¨å°é—­æºä»£ç ï¼šPineconeã€‚Zilliz ä¹Ÿæ˜¯ä¸€ä¸ªå®Œå…¨å°é—­çš„å•†ä¸šè§£å†³æ–¹æ¡ˆï¼Œä½†å®ƒå®Œå…¨æ˜¯å»ºç«‹åœ¨ Milvus ä¹‹ä¸Šçš„ï¼Œå¹¶ä¸”å¯ä»¥çœ‹ä½œæ˜¯ Milvus çš„æ¯å…¬å¸ã€‚</li></ul></li></ul><figure><img src="/blog/assets/011_vector_database_products-DYfds2pt.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>å‘å±•å†ç¨‹ <ul><li>Vespa æ˜¯æœ€æ—©åœ¨ä¸»æµçš„åŸºäº BM25 å…³é”®å­—æœç´¢ç®—æ³•æ—è¾¹åŠ å…¥å‘é‡ç›¸ä¼¼æ€§æœç´¢çš„å‚å•†ä¹‹ä¸€ã€‚</li><li>åƒ Elasticsearchã€Redis å’Œ PostgreSQL è¿™æ ·çš„è€ç‰Œå‚å•†åœ¨2022å¹´åŠä¹‹åæ‰å¼€å§‹æä¾›å‘é‡æœç´¢ï¼Œæ¯”äººä»¬åŸæœ¬æƒ³è±¡çš„è¦æ™šå¾—å¤šã€‚</li></ul></li></ul><figure><img src="/blog/assets/011_vector_database_development-oWrZ6VI3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>æ‰˜ç®¡æ–¹å¼ <ul><li>è‡ªæ‰˜ç®¡ï¼ˆæœ¬åœ°éƒ¨ç½²ï¼‰ <ul><li>éµå¾ªå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„</li></ul></li><li>æ‰˜ç®¡ï¼ˆäº‘åŸç”Ÿï¼‰ <ul><li>éµå¾ªå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„</li></ul></li><li>è¿‘æœŸçš„é€‰æ‹©ï¼šåµŒå…¥æ¨¡å¼ <ul><li>æ•°æ®åº“æœ¬èº«ä¸åº”ç”¨ç¨‹åºä»£ç ç´§å¯†è€¦åˆï¼Œä»¥æœåŠ¡å™¨æ— å½¢å¼è¿è¡Œ</li><li>ç›®å‰åªæœ‰ Chroma å’Œ LanceDB å¯ç”¨ä½œåµŒå…¥å¼æ•°æ®åº“</li></ul></li></ul></li></ul><figure><img src="/blog/assets/011_vector_database_manage-x7tsKVq6.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_4-3-å‘é‡æ•°æ®åº“æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#_4-3-å‘é‡æ•°æ®åº“æ¯”è¾ƒ" aria-hidden="true">#</a> 4.3. å‘é‡æ•°æ®åº“æ¯”è¾ƒ</h3><ul><li>æƒè¡¡é€‰æ‹© <ul><li>æ··åˆæœç´¢è¿˜æ˜¯å…³é”®è¯æœç´¢ï¼Ÿå…³é”®è¯+å‘é‡æœç´¢çš„æ··åˆå¯ä»¥äº§ç”Ÿæœ€ä½³ç»“æœï¼Œæ¯ä¸ªå‘é‡æ•°æ®åº“ä¾›åº”å•†éƒ½æ„è¯†åˆ°äº†è¿™ä¸€ç‚¹ï¼Œå¹¶æä¾›äº†è‡ªå·±å®šåˆ¶çš„æ··åˆæœç´¢è§£å†³æ–¹æ¡ˆã€‚</li><li>éƒ¨ç½²åœ¨æœ¬åœ°è¿˜æ˜¯äº‘åŸç”Ÿï¼Ÿè®¸å¤šä¾›åº”å•†å°†â€œäº‘åŸç”Ÿâ€ä½œä¸ºå–ç‚¹ï¼Œå¥½åƒåŸºç¡€è®¾æ–½æ˜¯å…¨çƒæœ€å¤§çš„ç—›ç‚¹ï¼Œä½†æœ¬åœ°éƒ¨ç½²åœ¨é•¿æœŸå†…å¯èƒ½æ›´ç»æµå®æƒ ï¼Œå› æ­¤æ›´åŠ æœ‰æ•ˆã€‚</li><li>å¼€æºè¿˜æ˜¯å®Œå…¨æ‰˜ç®¡ï¼Ÿå¤§å¤šæ•°ä¾›åº”å•†éƒ½æ˜¯åœ¨æºä»£ç å¯è·å¾—æˆ–å¼€æºä»£ç åŸºç¡€ä¸Šæ„å»ºçš„ï¼Œä»¥å±•ç¤ºå…¶åŸºæœ¬æ–¹æ³•ï¼Œç„¶åé€šè¿‡å®Œå…¨æ‰˜ç®¡çš„SaaSæ¥å®ç°éƒ¨ç½²å’ŒåŸºç¡€è®¾æ–½çš„éƒ¨åˆ†ã€‚è™½ç„¶ä»ç„¶æœ‰å¯èƒ½è‡ªè¡Œæ‰˜ç®¡å¾ˆå¤šè§£å†³æ–¹æ¡ˆï¼Œä½†è¿™éœ€è¦é¢å¤–çš„äººåŠ›å’Œå†…éƒ¨æŠ€èƒ½è¦æ±‚ã€‚</li></ul></li></ul><figure><img src="/blog/assets/011_vector_database_compare-XNX2b1Wi.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="/blog/assets/011_vector_database_compare1-0Rwj4vnv.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_4-4-ç´¢å¼•ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_4-4-ç´¢å¼•ç®—æ³•" aria-hidden="true">#</a> 4.4. ç´¢å¼•ç®—æ³•</h3><p>æ•°æ®é€šè¿‡ç´¢å¼•å­˜å‚¨åœ¨å‘é‡æ•°æ®åº“ä¸­ï¼Œè¿™æŒ‡çš„æ˜¯åˆ›å»ºç§°ä¸ºç´¢å¼•çš„æ•°æ®ç»“æ„ï¼Œä»¥ä¾¿é€šè¿‡å¿«é€Ÿç¼©å°æœç´¢ç©ºé—´æ¥è¿›è¡Œå‘é‡çš„é«˜æ•ˆæŸ¥æ‰¾ã€‚</p><p>å°±åƒåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸€æ ·ï¼Œé€‰æ‹©ä¸€ä¸ªå‘é‡ç´¢å¼•æ¶‰åŠç²¾åº¦ï¼ˆå‡†ç¡®ç‡/å¬å›ç‡ï¼‰ä¸é€Ÿåº¦/ååé‡ä¹‹é—´çš„æƒè¡¡ã€‚</p><ul><li>BM25</li><li>IVFï¼ˆInverted Fileï¼Œåå‘æ–‡ä»¶ç´¢å¼•ï¼‰</li><li>HNSWï¼ˆåˆ†å±‚å¯å¯¼èˆªå°ä¸–ç•Œï¼‰</li><li>PQ</li><li>Flat</li><li>RHNSW</li><li>Vamanaï¼ˆåœ¨ DiskANN å®ç°ä¸­ä½¿ç”¨ï¼‰</li></ul><figure><img src="/blog/assets/011_vector_database_index-IrhnNrO8.png" alt="å„å‘é‡æ•°æ®åº“é‡‡ç”¨çš„ç´¢å¼•ç®—æ³•" tabindex="0" loading="lazy"><figcaption>å„å‘é‡æ•°æ®åº“é‡‡ç”¨çš„ç´¢å¼•ç®—æ³•</figcaption></figure><figure><img src="/blog/assets/011_vector_database_index1-k4HlBe--.png" alt="åŸºäºåº•å±‚æ•°æ®ç»“æ„çš„å‘é‡ç´¢å¼•åˆ†ç±»" tabindex="0" loading="lazy"><figcaption>åŸºäºåº•å±‚æ•°æ®ç»“æ„çš„å‘é‡ç´¢å¼•åˆ†ç±»</figcaption></figure><h3 id="_4-5-ç´¢å¼•è¯„ä»·æ ‡å‡†" tabindex="-1"><a class="header-anchor" href="#_4-5-ç´¢å¼•è¯„ä»·æ ‡å‡†" aria-hidden="true">#</a> 4.5. ç´¢å¼•è¯„ä»·æ ‡å‡†</h3><p>è¯„ä»·ä¸€ä¸ªç´¢å¼•çš„å¥½åæ€»æ˜¯ä¾èµ–äºå…·ä½“çš„æ•°æ®æ¨¡å‹çš„ï¼Œæ€»ä½“æ¥è¯´åŒ…å«å¦‚ä¸‹å‡ ç‚¹ï¼š</p><ul><li>æŸ¥è¯¢æ—¶é—´ã€‚æŸ¥è¯¢çš„é€Ÿåº¦æ˜¯éå¸¸å…³é”®çš„ï¼Œåœ¨å¤§æ¨¡å‹ä¸­å°¤ä¸ºé‡è§†ã€‚</li><li>æŸ¥è¯¢è´¨é‡ã€‚ANNæŸ¥è¯¢ä¸ä¼šæ€»æ˜¯è¿”å›æœ€ç²¾å‡†çš„ç»“æœï¼Œä½†æŸ¥è¯¢è´¨é‡ä¹Ÿä¸èƒ½åå·®è¿‡å¤§ï¼Œè€ŒæŸ¥è¯¢è´¨é‡ä¹Ÿæœ‰å¾ˆå¤šæŒ‡æ ‡ï¼Œå…¶ä¸­åŒ…æ‹¬æœ€å¸¸ç”¨çš„å¬å›ç‡ã€‚</li><li>å†…å­˜æ¶ˆè€—ã€‚æŸ¥è¯¢ç´¢å¼•æ‰€æ¶ˆè€—çš„å†…å­˜ï¼Œåœ¨å†…å­˜ä¸ŠæŸ¥æ‰¾æ˜æ˜¾æ¯”åœ¨ç£ç›˜ä¸ŠæŸ¥æ‰¾æ›´å¿«ã€‚</li><li>è®­ç»ƒæ—¶é—´ã€‚æœ‰äº›æŸ¥è¯¢æ–¹æ³•éœ€è¦è®­ç»ƒæ‰èƒ½è¾¾åˆ°è¾ƒå¥½çš„çŠ¶æ€ã€‚</li><li>å†™å…¥æ—¶é—´ã€‚å†™å…¥å‘é‡æ—¶å¯¹ç´¢å¼•çš„å½±å“ï¼Œä»¥åŠåŒ…å«æ‰€æœ‰ç»´æŠ¤ã€‚</li></ul><h2 id="_5-æœç´¢" tabindex="-1"><a class="header-anchor" href="#_5-æœç´¢" aria-hidden="true">#</a> 5. æœç´¢</h2><h3 id="_5-1-ç¨€ç–æœç´¢-å…³é”®è¯æœç´¢-vs-å¯†é›†æœç´¢-å‘é‡æœç´¢-è¯­ä¹‰æœç´¢" tabindex="-1"><a class="header-anchor" href="#_5-1-ç¨€ç–æœç´¢-å…³é”®è¯æœç´¢-vs-å¯†é›†æœç´¢-å‘é‡æœç´¢-è¯­ä¹‰æœç´¢" aria-hidden="true">#</a> 5.1. ç¨€ç–æœç´¢(å…³é”®è¯æœç´¢) vs å¯†é›†æœç´¢(å‘é‡æœç´¢/è¯­ä¹‰æœç´¢)</h3><ul><li>ç¨€ç–æœç´¢ï¼ˆå…³é”®è¯æœç´¢ï¼‰Sparse search <ul><li>å…³é”®è¯æœç´¢ï¼Œæ–‡æœ¬åŒ¹é…</li></ul></li><li>å¯†é›†æœç´¢ï¼ˆå‘é‡æœç´¢/è¯­ä¹‰æœç´¢ï¼‰Dense Search <ul><li>å‘é‡ç›¸ä¼¼æ€§æœç´¢</li><li>åœ¨å‘é‡ç©ºé—´ä¸­æœç´¢æœ€æ¥è¿‘çš„å¯¹è±¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„è¯­ä¹‰æœç´¢æˆ–å‘é‡æœç´¢</li><li>eg.&quot;Baby dogs&quot; &lt;=&gt; &quot;Here is content on puppies!&quot;</li><li>å±€é™æ€§ï¼š <ul><li>ä¼šå—é‡‡ç”¨çš„Embeddingæ¨¡å‹çš„å½±å“ï¼Œå‘é‡ç›¸ä¼¼åªæ˜¯åœ¨è®­ç»ƒçš„æ•°æ®é›†ä¸­æ•°æ®çš„è¡¨ç°ï¼Œå¦‚æœæœç´¢çš„å†…å®¹ä¸è®­ç»ƒEmbeddingæ¨¡å‹çš„æ•°æ®é›†ç›¸å·®ç”šè¿œï¼Œé‚£æœç´¢ç»“æœä¼šå¾ˆå·®ï¼Œå› ä¸ºæœç´¢çš„å†…å®¹åˆ†å¸ƒä¸Embeddingçš„æ•°æ®åˆ†å¸ƒä¸ä¸€æ ·</li><li>å‘é‡çœŸçš„èƒ½ä»£è¡¨è¯­ä¹‰å—ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å“ˆå¸Œï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„ç†è§£ï¼Œå¾ˆå®¹æ˜“æ•é£æ‰å½±</li><li>å‘é‡æ•°æ®é‡å¤§çš„è¯ï¼Œæœç´¢å‡†ç¡®åº¦ä¼šå¤§å¹…ä¸‹é™ï¼ˆå‚è€ƒhttps://mp.weixin.qq.com/s/DH4-QCK1U8BYGlAblQLTLwï¼‰</li><li>åƒåºåˆ—æ•°å­—ï¼Œè¡¨æ ¼æ•°æ®ç­‰æ²¡æœ‰è¯­ä¹‰ä¿¡æ¯çš„ï¼Œå°±å¾ˆä¸é€‚åˆç”¨æ­¤æ¥æœç´¢</li></ul></li></ul></li><li>æ··åˆæœç´¢ Hybird Search <ul><li>èåˆç¨€ç–æœç´¢å’Œå¯†é›†æœç´¢çš„ç»“æœè¿”å›çš„æ’åç»“æœ</li></ul></li></ul><h3 id="_5-2-ç¨€ç–æœç´¢" tabindex="-1"><a class="header-anchor" href="#_5-2-ç¨€ç–æœç´¢" aria-hidden="true">#</a> 5.2. ç¨€ç–æœç´¢</h3><figure><img src="/blog/assets/011_bag_of_words-p5ZybKb8.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¯è¢‹ Bag of Words</p><p>æœ€ç®€å•çš„å…³é”®è¯åŒ¹é…æ–¹æ³•æ˜¯ä½¿ç”¨è¯è¢‹--è®¡ç®—ä¸€ä¸ªè¯åœ¨æŸ¥è¯¢å’Œæ•°æ®å‘é‡ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åè¿”å›åŒ¹é…è¯é¢‘ç‡æœ€é«˜çš„å¯¹è±¡ã€‚</p><p>åœ¨å®é™…ä¸Šï¼Œå¯èƒ½åªä¼šæ•æ‰åˆ°å¯ç”¨å•è¯çš„ç™¾åˆ†ä¹‹ä¸€ï¼Œæ‰€ä»¥æ•°æ®ä¸­å°†ä¼šæœ‰å¾ˆå¤šé›¶ã€‚</p><h3 id="_5-3-æ··åˆæœç´¢" tabindex="-1"><a class="header-anchor" href="#_5-3-æ··åˆæœç´¢" aria-hidden="true">#</a> 5.3. æ··åˆæœç´¢</h3><p>é€šè¿‡è®¾ç½®ç›¸åº”çš„æƒé‡æ¯”ä¾‹ï¼Œæ¥å°†ä¸¤ç§æœç´¢ç»“æœåˆä¸ºä¸€ä¸ª</p><figure><img src="/blog/assets/011_hybird_search-UJL-ec01.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_5-4-å¤šè¯­è¨€æœç´¢" tabindex="-1"><a class="header-anchor" href="#_5-4-å¤šè¯­è¨€æœç´¢" aria-hidden="true">#</a> 5.4. å¤šè¯­è¨€æœç´¢</h3><p>åœ¨å¤šè¯­è¨€æœç´¢æƒ…å†µä¸‹ï¼Œç›¸åŒå«ä¹‰ä½†ä¸åŒè¯­è¨€çš„æ–‡æœ¬ï¼Œå°†ç”Ÿæˆéå¸¸ç›¸ä¼¼çš„ï¼ˆå¦‚æœä¸æ˜¯ç›¸åŒçš„è¯ï¼‰åµŒå…¥</p><figure><img src="/blog/assets/011_multilingual_search-FTUfOq1T.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_6-å…³é”®è¯åŒ¹é…ç®—æ³•-bm25-best-matching-25-æœ€ä½³åŒ¹é…25" tabindex="-1"><a class="header-anchor" href="#_6-å…³é”®è¯åŒ¹é…ç®—æ³•-bm25-best-matching-25-æœ€ä½³åŒ¹é…25" aria-hidden="true">#</a> 6. å…³é”®è¯åŒ¹é…ç®—æ³•ï¼šBM25 ï¼ˆBest Matching 25, æœ€ä½³åŒ¹é…25ï¼‰</h2><p>å±äºç¨€ç–æœç´¢ï¼ˆå…³é”®è¯æœç´¢ï¼‰</p><figure><img src="/blog/assets/011_bm25-IbDhRuhE.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å½“æ¶‰åŠè·¨å¤šä¸ªå…³é”®è¯æœç´¢æ—¶ï¼Œå®ƒå®é™…ä¸Šè¡¨ç°å¾—éå¸¸å¥½ã€‚</p><p>æ€æƒ³ï¼šç»Ÿè®¡ä¼ å…¥çš„çŸ­è¯­ä¸­å•è¯çš„æ•°é‡ï¼Œç„¶åå‡ºç°æ›´é¢‘ç¹çš„å•è¯åœ¨åŒ¹é…å‘ç”Ÿæ—¶è¢«åŠ æƒä¸ºä¸å¤ªé‡è¦ï¼Œä½†æ˜¯é‚£äº›æ›´ç¨€æœ‰çš„å•è¯å¾—åˆ†å°±ä¼šé«˜å¾—å¤šã€‚</p><h2 id="_7-å€’æ’ç´¢å¼•-å€’æ’æ–‡ä»¶ç´¢å¼•-åå‘æ–‡ä»¶ç´¢å¼•-inverted-index-inverted-file-index-ivf-å¿«é€Ÿæœç´¢æ–‡æœ¬" tabindex="-1"><a class="header-anchor" href="#_7-å€’æ’ç´¢å¼•-å€’æ’æ–‡ä»¶ç´¢å¼•-åå‘æ–‡ä»¶ç´¢å¼•-inverted-index-inverted-file-index-ivf-å¿«é€Ÿæœç´¢æ–‡æœ¬" aria-hidden="true">#</a> 7. å€’æ’ç´¢å¼•/å€’æ’æ–‡ä»¶ç´¢å¼•/åå‘æ–‡ä»¶ç´¢å¼•ï¼ˆInverted Index / Inverted File Indexï¼ŒIVFï¼‰- å¿«é€Ÿæœç´¢æ–‡æœ¬</h2><p>å±äºç¨€ç–æœç´¢ï¼ˆå…³é”®è¯æœç´¢ï¼‰</p><p>è°·æ­Œã€ç™¾åº¦æœç´¢å¼•æ“éƒ½æœ‰ç”¨åˆ°ï¼Œéå¸¸é€‚åˆæ–‡æœ¬çš„æ£€ç´¢</p><p>æ­£å‘ç´¢å¼•ï¼šDocId-&gt;Value<br> åå‘ç´¢å¼•ï¼šValue-&gt;DocId</p><figure><img src="/blog/assets/011_ivf-3_0ytYra.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>1.å°†æ–‡æ¡£ä¸­åœç”¨è¯è¡¨ï¼ˆåŠŸèƒ½è¯ï¼Œæ²¡æœ‰ä»€ä¹ˆå®é™…å«ä¹‰ï¼Œå‡ ä¹æ¯ä¸ªæ–‡æ¡£ä¸­éƒ½ä¼šç”¨åˆ°çš„è¯ï¼‰å¤–çš„å…¶ä»–è¯æŠ½å–å‡ºæ¥</li><li>2.æ¯ä¸ªè¯å’Œå…¶æ‰€åœ¨çš„å¤šä¸ªæ–‡æ¡£IDå»ºç«‹æ˜ å°„å…³ç³»</li><li>3.æŸ¥è¯¢å…³é”®è¯ï¼Œé€šè¿‡å…³é”®è¯å°±å¯å¬å›ï¼ˆRecallï¼‰åˆ°è¯¥è¯æ‰€åœ¨çš„æ‰€æœ‰æ–‡æ¡£</li><li>4.æŸ¥è¯¢ä¸€å¥è¯ï¼Œä¸€å¥è¯æœ‰å¤šä¸ªå…³é”®è¯ï¼Œæ ¹æ®æ¯ä¸ªå…³é”®è¯å¬å›å¯¹åº”æ–‡æ¡£ï¼Œå†å–äº¤é›†ï¼Œæ’åºï¼ˆrankingï¼‰åè¿”å›top kçš„æ–‡æ¡£ä½œä¸ºç»“æœ</li></ul><h2 id="_8-knn-æœ€è¿‘é‚»ç®—æ³•-knnæœç´¢-è›®åŠ›æœç´¢" tabindex="-1"><a class="header-anchor" href="#_8-knn-æœ€è¿‘é‚»ç®—æ³•-knnæœç´¢-è›®åŠ›æœç´¢" aria-hidden="true">#</a> 8. KNN (æœ€è¿‘é‚»ç®—æ³•, KNNæœç´¢ï¼Œè›®åŠ›æœç´¢)</h2><p>åˆ«å</p><ul><li>a flat index ï¼ˆFlatç´¢å¼•ï¼‰</li><li>a brute force è›®åŠ›æœç´¢ï¼šå’Œæ¯ä¸ªå‘é‡è¿›è¡Œç›¸ä¼¼åº¦è®¡ç®—</li></ul><p>åœ¨ç»å…¸æœºå™¨å­¦ä¹ ä¸­ï¼Œè¿™è¢«ç§°ä¸ºK-æœ€è¿‘é‚»ç®—æ³•ï¼ˆKNNï¼ŒK Nearest Neighboursï¼‰</p><p>å°†æŸ¥è¯¢å‘é‡ä¸æ•°æ®åº“ä¸­çš„æ¯ä¸ªå‘é‡è¿›è¡Œæ¯”è¾ƒ</p><ul><li>1.ç»™å®šä¸€ä¸ªQueryï¼Œæ‰¾åˆ°æ‰€æœ‰å‘é‡å’ŒQueryå‘é‡ä¹‹é—´çš„è·ç¦»</li><li>2.å¯¹æ‰€æœ‰è·ç¦»è¿›è¡Œæ’åº</li><li>3.æœ€ç»ˆè¿”å›è·ç¦»æœ€è¿‘çš„å‰Kä¸ªåŒ¹é…å¯¹è±¡</li></ul><figure><img src="/blog/assets/011_knn-bsidCzmj.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é—®é¢˜åœ¨äºè›®åŠ›æœç´¢ä¼´éšç€å·¨å¤§çš„è®¡ç®—æˆæœ¬ï¼Œæ€»ä½“æŸ¥è¯¢æ—¶é—´éšç€å­˜å‚¨çš„å¯¹è±¡æ•°é‡çš„å¢åŠ è€Œå¢åŠ </p><p>æ‹¥æœ‰çš„å‘é‡è¶Šå¤šï¼ŒæŸ¥è¯¢éœ€è¦çš„æ—¶é—´å°±è¶Šé•¿ï¼Œè€Œåœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œå°†å¤„ç†æ•°åƒä¸‡ç”šè‡³æ•°äº¿ä¸ªå¯¹è±¡</p><figure><img src="/blog/assets/011_knn_runtime_complexity-mu68fq4A.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>ä¼˜ï¼šç²¾ç¡®</li><li>ç¼ºï¼šè®¡ç®—é‡å¤§ï¼Œè€—æ—¶é•¿ï¼Œæ—¶é—´å¤æ‚åº¦O(n)</li></ul><h2 id="_9-è¿‘ä¼¼knn-æŠŠç©ºé—´åˆ†æˆè‹¥å¹²ä¸ªæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_9-è¿‘ä¼¼knn-æŠŠç©ºé—´åˆ†æˆè‹¥å¹²ä¸ªæ¨¡å—" aria-hidden="true">#</a> 9. è¿‘ä¼¼KNN-æŠŠç©ºé—´åˆ†æˆè‹¥å¹²ä¸ªæ¨¡å—</h2><figure><img src="/blog/assets/011_split_space-PpUzmT4I.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="/blog/assets/011_split_space_search-ODFHYOWa.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>1.ä½¿ç”¨èšç±»ç®—æ³•ï¼ˆå¦‚K-meansï¼‰åˆå§‹kä¸ªèšç±»ä¸­å¿ƒ(ä¹Ÿå«è´¨å¿ƒ centroids)</li><li>2.è®¡ç®—æ¯ä¸ªæ ·æœ¬åˆ°è´¨å¿ƒçš„è·ç¦»å¹¶å°†æ ·æœ¬åˆ†é…åˆ°æœ€è¿‘çš„è´¨å¿ƒï¼Œç”±æ­¤ç»„æˆèšç±»</li><li>3.ä»¥è¿™äº›è´¨å¿ƒå’Œèšç±»æ‰€å±çš„æ ·æœ¬åˆ’åˆ†ç©ºé—´ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¾—åˆ°äº†æ²ƒç½—è¯ºä¼Šå›¾ï¼ˆVoronoi Diagram) <ul><li>Voronoiå›¾çš„ä¸»è¦æ€§è´¨æ˜¯ï¼Œä»ä¸€ä¸ªè´¨å¿ƒåˆ°å…¶åŒºåŸŸä¸­ä»»ä½•ä¸€ç‚¹çš„è·ç¦»å°äºä»è¯¥ç‚¹åˆ°å¦ä¸€ä¸ªè´¨å¿ƒçš„è·ç¦»ã€‚</li></ul></li><li>4.ç»™å®šä¸€ä¸ªQueryï¼ŒæŸ¥è¯¢Queryè·ç¦»æ¯ä¸ªè´¨å¿ƒçš„è·ç¦»ï¼Œæ‰¾åˆ°Queryæ‰€åœ¨çš„ç©ºé—´ <ul><li>å½“ç»™å®šä¸€ä¸ªæ–°å¯¹è±¡æ—¶ï¼Œå°†è®¡ç®—åˆ°Voronoiåˆ†åŒºçš„æ‰€æœ‰è´¨å¿ƒçš„è·ç¦»ã€‚ç„¶åé€‰æ‹©è·ç¦»æœ€å°çš„è´¨å¿ƒï¼Œç„¶åå°†åŒ…å«åœ¨è¯¥åˆ†åŒºä¸­çš„å‘é‡ä½œä¸ºå€™é€‰ã€‚</li></ul></li><li>5.Queryå†ä¸è´¨å¿ƒæ‰€åœ¨ç©ºé—´ä¸­æ‰€æœ‰èŠ‚ç‚¹è®¡ç®—è·ç¦» <ul><li>é€šè¿‡è®¡ç®—åˆ°å€™é€‰è€…çš„è·ç¦»å¹¶é€‰æ‹©æœ€æ¥è¿‘çš„å‰kä¸ªï¼Œè¿”å›æœ€ç»ˆç­”æ¡ˆ</li></ul></li></ul><p>è®¾æœ‰kä¸ªè´¨å¿ƒï¼Œé‚£æ¯ä¸ªç©ºé—´èŠ‚ç‚¹æ•°å¹³å‡ä¸ºn/kï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸ºO(k + n/k)</p><h3 id="_9-1-è¾¹ç•Œé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_9-1-è¾¹ç•Œé—®é¢˜" aria-hidden="true">#</a> 9.1. è¾¹ç•Œé—®é¢˜</h3><p>åœ¨ä¸‹å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™æ ·ä¸€ç§æƒ…å†µï¼šå®é™…æœ€è¿‘çš„é‚»å±…ä½äºçº¢è‰²åŒºåŸŸï¼Œä½†æˆ‘ä»¬åªä»ç»¿è‰²åŒºåŸŸä¸­é€‰æ‹©å€™é€‰äººã€‚è¿™ç§æƒ…å†µè¢«ç§°ä¸ºè¾¹ç¼˜é—®é¢˜ã€‚</p><figure><img src="/blog/assets/011_border_problem-xd6mTnQj.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¾¹ç•Œé—®é¢˜æœ¬è´¨æ˜¯å› ä¸ºï¼š</p><p>voronioå›¾åªèƒ½ä¿è¯æŸèŠ‚ç‚¹åˆ°å…¶åŒºåŸŸè´¨å¿ƒçš„è·ç¦»å°äºåˆ°å…¶ä»–è´¨å¿ƒçš„è·ç¦»ï¼Œä½†ä¸ä¿è¯æŸèŠ‚ç‚¹åˆ°åŒºåŸŸå†…å…¶ä»–èŠ‚ç‚¹çš„è·ç¦»å°äºåˆ°å…¶ä»–åŒºåŸŸèŠ‚ç‚¹çš„è·ç¦»</p><p>å¦‚ä½•è§£å†³ï¼šæ‰©å¤§æœç´¢èŒƒå›´</p><p>è¿™ç§æƒ…å†µé€šå¸¸å‘ç”Ÿåœ¨æŸ¥è¯¢å¯¹è±¡ä½äºä¸å¦ä¸€ä¸ªåŒºåŸŸçš„è¾¹ç•Œé™„è¿‘æ—¶ã€‚ä¸ºäº†å‡å°‘è¿™ç§æƒ…å†µä¸‹çš„é”™è¯¯æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥å¢åŠ æœç´¢èŒƒå›´ï¼Œå¹¶æ ¹æ®è·ç¦»å¯¹è±¡æœ€è¿‘çš„å‰mä¸ªè´¨å¿ƒé€‰æ‹©å‡ ä¸ªåŒºåŸŸæ¥æœç´¢å€™é€‰è€…ã€‚</p><figure><img src="/blog/assets/011_enlarge_regions-kOf4xFOs.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ‰©å¤§æœç´¢èŒƒå›´çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(k + 3 * n/k)</p><p>æœç´¢çš„åŒºåŸŸè¶Šå¤šï¼Œç»“æœå°±è¶Šå‡†ç¡®ï¼Œè®¡ç®—å®ƒä»¬æ‰€éœ€çš„æ—¶é—´ä¹Ÿå°±è¶Šå¤šã€‚éœ€è¦åœ¨å‡†ç¡®æ€§å’Œè€—æ—¶ä¹‹é—´æƒè¡¡é€‰æ‹©ã€‚</p><h2 id="_10-ann-approximate-nearest-neighbours-è¿‘ä¼¼æœ€è¿‘é‚»ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_10-ann-approximate-nearest-neighbours-è¿‘ä¼¼æœ€è¿‘é‚»ç®—æ³•" aria-hidden="true">#</a> 10. ANNï¼ˆApproximate Nearest Neighboursï¼Œè¿‘ä¼¼æœ€è¿‘é‚»ç®—æ³•ï¼‰</h2><p>å¹¶ä¸æ€»èƒ½æ‰¾åˆ°æœ€ä½³åŒ¹é…ï¼Œä½†æ˜¯æ‰¾åˆ°äº†è¿‘ä¼¼çš„æœ€è¿‘é‚»åŒ¹é…ï¼Œè¿™ä»ç„¶æ˜¯ä¸€ä¸ªç›¸å½“ä¸é”™çš„ç»“æœï¼Œä½†ä¸ä¸€å®šæ˜¯å®Œç¾çš„ç»“æœ</p><p>ç‰ºç‰²ä¸€äº›å‡†ç¡®æ€§ï¼ˆå¹¶ä¸æ€»æ˜¯è¿”å›çœŸæ­£çš„æœ€è¿‘é‚»ï¼‰ï¼Œä½†å¯ä»¥é€šè¿‡ä½¿ç”¨ ANN ç®—æ³•è·å¾—å¤§å¹…çš„æ€§èƒ½æå‡</p><ul><li>NSW</li><li>HNSW</li></ul><h2 id="_11-nsw-navigable-small-world-å¯å¯¼èˆªå°ä¸–ç•Œ" tabindex="-1"><a class="header-anchor" href="#_11-nsw-navigable-small-world-å¯å¯¼èˆªå°ä¸–ç•Œ" aria-hidden="true">#</a> 11. NSWï¼ˆNavigable Small Worldï¼Œå¯å¯¼èˆªå°ä¸–ç•Œï¼‰</h2><h3 id="_11-1-å›¾çš„æ„å»º-one-by-one" tabindex="-1"><a class="header-anchor" href="#_11-1-å›¾çš„æ„å»º-one-by-one" aria-hidden="true">#</a> 11.1. å›¾çš„æ„å»ºï¼ˆone by oneï¼‰</h3><figure><img src="/blog/assets/011_construct_nsw-nn5OimY4.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><p>m=2 é‚»å±…æœ‰å‡ ä¸ªï¼Œä¹Ÿå°±æ˜¯å’Œå‡ ä¸ªèŠ‚ç‚¹ç›¸è¿</p></li><li><p>é«˜é€Ÿå…¬è·¯æ€æƒ³</p><ul><li>åˆšå¼€å§‹æ„å»ºçš„è¿çº¿å¯èƒ½å¾ˆé•¿ï¼Œå› ä¸ºæ˜¯ä¸€ä¸ªä¸€ä¸ªè¿æ¥çš„ï¼Œæ²¡æœ‰æ›´å¥½æ›´è¿‘çš„é€‰æ‹©ï¼Œå¹¶ä¸æ˜¯å’Œæœ€è¿‘çš„ç›¸è¿ï¼Œè¶Šåˆ°åé¢ï¼Œè¿çš„è¶Šå¯†ï¼Œè¿çº¿å¯èƒ½è¶ŠçŸ­è¶Šè¿‘</li><li>è¿™æ ·è¿çº¿æœ‰ä¸ªå¥½å¤„ï¼Œå°±æ˜¯é«˜é€Ÿå…¬è·¯æ€æƒ³ï¼Œåˆšå¼€å§‹çš„è·ç¦»è¿œçš„è¿çº¿å°±åƒé«˜é€Ÿå…¬è·¯ä¸€æ ·ï¼Œæœ‰äº›è·¯å¯ä»¥ä¸ç”¨èµ°å¾ˆå¤šå°è·¯å°±å¯èµ°å¾ˆè¿œï¼Œç»å†ä¸­é—´èŠ‚ç‚¹å°‘ï¼Œæé«˜äº†æœç´¢æ•ˆç‡</li></ul></li><li><p>æ„é€ å¤æ‚åº¦ï¼šO(n^2)</p><ul><li>ç¬¬iä¸ªèŠ‚ç‚¹æ˜¯ä¸ä¹‹å‰i-1ä¸ªèŠ‚ç‚¹åšæ¯”è¾ƒ</li></ul></li></ul><h3 id="_11-2-æœç´¢" tabindex="-1"><a class="header-anchor" href="#_11-2-æœç´¢" aria-hidden="true">#</a> 11.2. æœç´¢</h3><ul><li>1.ä»ä¸€ä¸ªéšå³å…¥å£èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€æœ€è¿‘çš„é‚»å±…å‘Queryç§»åŠ¨</li><li>2.ä¿ç•™æœ€å¤§çš„kä¸ªç‚¹=&gt;priority queue</li></ul><figure><img src="/blog/assets/011_nsw_search-V_1xx2wN.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="/blog/assets/011_nsw_search1-UeauSrOK.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="/blog/assets/011_nsw_search2-S8sO0hvE.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>æŸ¥è¯¢å¤æ‚åº¦ï¼šO(nlogn)</li><li>é—®é¢˜ï¼šæ‰¾ä¸åˆ°ä¸‹ä¸€æ­¥ï¼Ÿæ—©åœ <ul><li>æ—©åœã€‚å½“å‰èŠ‚ç‚¹çš„ä¸¤ä¸ªé‚»å±…ç¦»æŸ¥è¯¢æ›´è¿œã€‚å› æ­¤ï¼Œç®—æ³•å°†å½“å‰èŠ‚ç‚¹ä½œä¸ºå“åº”è¿”å›ï¼Œå°½ç®¡å­˜åœ¨æ¯”æŸ¥è¯¢æ›´æ¥è¿‘çš„èŠ‚ç‚¹ã€‚</li><li>æ”¹å–„ï¼šä½¿ç”¨å¤šä¸ªå…¥å£ç‚¹å¯ä»¥æé«˜æœç´¢ç²¾åº¦ã€‚</li></ul></li></ul><figure><img src="/blog/assets/011_nsw_problem-pd_Kyspn.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_12-hnsw-hierarchical-navigable-small-world-åˆ†å±‚å¯å¯¼èˆªå°ä¸–ç•Œ" tabindex="-1"><a class="header-anchor" href="#_12-hnsw-hierarchical-navigable-small-world-åˆ†å±‚å¯å¯¼èˆªå°ä¸–ç•Œ" aria-hidden="true">#</a> 12. HNSW (Hierarchical Navigable Small Worldï¼Œåˆ†å±‚å¯å¯¼èˆªå°ä¸–ç•Œ)</h2><ul><li>HNSWç®—æ³•ï¼šNSW ç»“åˆ Skip List æ€æƒ³ <ul><li>HNSWæ˜¯NSWåŸºäºè·³è¡¨Skip Listçš„ä¼˜åŒ–</li><li>å¯¹äº NSW ä¸­æ‰€æçš„é«˜é€Ÿå…¬è·¯æ€æƒ³çš„è¯ï¼Œæ˜¯æ˜ç¡®åŒºåˆ†äº†çš„é«˜é€Ÿå…¬è·¯ï¼Œå¯ä»¥æƒ³è±¡æˆæ¯å±‚åˆ†åˆ«æ˜¯ï¼šé£æœºã€ç«è½¦ã€æ±½è½¦ã€è‡ªè¡Œè½¦ã€æ­¥è¡Œ</li></ul></li><li>å®ƒæ¨åŠ¨äº†ä¸–ç•Œä¸Šæœ€å¼ºå¤§çš„å‘é‡æ•°æ®åº“ <ul><li>å¤§å¤šæ•°å‘é‡æ•°æ®åº“éƒ½ç”¨åˆ°äº†æ­¤</li></ul></li></ul><figure><img src="/blog/assets/011_skip_list-QMW-0yas.png" alt="Skip List" tabindex="0" loading="lazy"><figcaption>Skip List</figcaption></figure><h3 id="_12-1-æ„å»º-åˆ†å±‚ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_12-1-æ„å»º-åˆ†å±‚ç»“æ„" aria-hidden="true">#</a> 12.1. æ„å»º-åˆ†å±‚ç»“æ„</h3><ul><li>åˆ†ä¸ºå‡ å±‚ï¼Œæ¯å±‚ä¸NSWçš„æ„å»ºæ–¹å¼ç›¸ä¼¼ï¼ŒèŠ‚ç‚¹çš„æ•°é‡ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡å¢å¤šï¼Œæœ€åº•å±‚åŒ…å«äº†æ‰€æœ‰èŠ‚ç‚¹ã€‚</li><li>å¦‚ä½•å°†èŠ‚ç‚¹åˆ†å±‚ï¼Ÿ <ul><li>ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼Œä½œä¸ºåˆ†é…åˆ°çš„è¯¥èŠ‚ç‚¹çš„æœ€å¤§å±‚Max Layerï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹ä¼šåˆ†é…åˆ°Max Layerå’Œæ‰€æœ‰ä¸‹é¢çš„å±‚ã€‚ä¾‹å¦‚ï¼Œéšæœºæ•°æ˜¯é›¶ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹åªå­˜åœ¨äºåº•å±‚ï¼Œå³é›¶å±‚ã€‚å¦‚æœéšæœºæ•°æ˜¯2ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹å°†å­˜åœ¨äºé›¶å±‚ã€ä¸€å±‚å’ŒäºŒå±‚ï¼Œä¾æ­¤ç±»æ¨ã€‚</li></ul></li><li>æ„å»ºå¤æ‚åº¦ï¼šO(nÂ·logn)</li></ul><figure><img src="/blog/assets/011_hnsw_construction-am8y4kJZ.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="/blog/assets/011_hnsw_runtime_complexity-VN12A_il.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_12-2-æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_12-2-æŸ¥è¯¢" aria-hidden="true">#</a> 12.2. æŸ¥è¯¢</h3><ul><li>æŸ¥è¯¢è¿‡ç¨‹ <ul><li>1.åœ¨é¡¶å±‚ï¼Œä»ä¸€ä¸ªéšå³å…¥å£èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€æœ€è¿‘çš„é‚»å±…ç§»åŠ¨</li><li>2.ç§»åŠ¨åˆ°è¯¥å±‚ä¸­æœ€è¿‘çš„èŠ‚ç‚¹</li><li>3.è¿›å…¥ä¸‹ä¸€å±‚ï¼Œæ²¿ç€æœ€è¿‘çš„é‚»å±…ç§»åŠ¨ï¼Œæ‰¾è¯¥å±‚æœ€è¿‘çš„èŠ‚ç‚¹ï¼Œç›´åˆ°æœ€åº•å±‚</li></ul></li></ul><figure><img src="/blog/assets/011_hnsw_search-leeOC4_n.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="/blog/assets/011_hnsw_search1-HfKrWyHV.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>æŸ¥è¯¢å¤æ‚åº¦ï¼šO(logn) <ul><li>æŸ¥è¯¢æ—¶é—´å‘ˆå¯¹æ•°å¢é•¿ï¼Œéšç€æ•°æ®é‡çš„å¢åŠ ï¼Œé€Ÿåº¦å¹¶ä¸ä¼šéšæ—¶é—´è€Œå—åˆ°å¤ªå¤§çš„å½±å“</li></ul></li></ul><figure><img src="/blog/assets/011_hnsw_runtime_complexity-VN12A_il.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_12-3-è¿›ä¸€æ­¥ä¼˜åŒ–-hnsw-è¿‘ä¼¼knn" tabindex="-1"><a class="header-anchor" href="#_12-3-è¿›ä¸€æ­¥ä¼˜åŒ–-hnsw-è¿‘ä¼¼knn" aria-hidden="true">#</a> 12.3. è¿›ä¸€æ­¥ä¼˜åŒ–ï¼šHNSW + è¿‘ä¼¼KNN</h3><figure><img src="/blog/assets/011_hnsw_and_approximate_knn-ZvlrX75r.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_13-ä¹˜ç§¯é‡åŒ–-product-quantization-pq" tabindex="-1"><a class="header-anchor" href="#_13-ä¹˜ç§¯é‡åŒ–-product-quantization-pq" aria-hidden="true">#</a> 13. ä¹˜ç§¯é‡åŒ– Product Quantization (PQ)</h2><p>æé«˜searchæ•ˆç‡åŒæ—¶ï¼Œå‹ç¼©æ•°æ®ï¼Œå‡å°‘å†…å­˜ä½¿ç”¨</p><p>æ ¸å¿ƒï¼š</p><ul><li>fast <ul><li>æ—¶é—´å¤æ‚åº¦O(å‘é‡ä¸ªæ•° * (subspace/dimension))</li></ul></li><li>compression <ul><li>æ•°æ®å‹ç¼©ï¼šå‡è®¾å‘é‡æ•°æ®åº“ä¸­æ¯ä¸ªå‘é‡ä¸º1024ç»´ï¼Œåˆ†ä¸º4ä¸ª256ç»´å­å‘é‡ï¼Œé‚£ä¹ˆå‘é‡æ•°æ®åº“ä¸­æ¯ä¸ªå‘é‡ä»1024ä¸ªfloatè½¬æ¢ä¸ºäº†4ä¸ªintï¼Œå¤§å¤§å‹ç¼©äº†æ•°æ®æ‰€éœ€çš„å­˜å‚¨ç©ºé—´ã€‚</li></ul></li></ul><p>ä¹˜ç§¯é‡åŒ–ï¼ˆProduct Quantizationï¼‰æ—¨åœ¨å‡å°‘å†…å­˜ä½¿ç”¨ï¼Œè¿˜å¯ä»¥æå‡æŸ¥è¯¢é€Ÿåº¦ï¼ˆå› ä¸ºè®¡ç®—é‡å‡å°‘äº†ï¼‰ã€‚PQæ˜¯ä¸€ç§æœ‰æŸå‹ç¼©æ–¹æ³•ï¼Œè¿™ä¼šå¯¼è‡´å‘é‡æ£€ç´¢çš„å‡†ç¡®æ€§é™ä½ï¼Œä¸è¿‡è¿™åœ¨ANNéœ€æ±‚ä¸­æ˜¯å¯è¡Œçš„ã€‚</p><h3 id="_13-1-æ„å»º" tabindex="-1"><a class="header-anchor" href="#_13-1-æ„å»º" aria-hidden="true">#</a> 13.1. æ„å»º</h3><figure><img src="/blog/assets/011_pq_construction-6bHXm9o2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="/blog/assets/011_pq_construction1-Y8_IAPse.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ­¥éª¤æè¿°ï¼š</p><ul><li>1.subvectorsâ€“å°†åŸå§‹çš„é«˜ç»´å‘é‡åˆ‡åˆ†æˆnä¸ªä½ç»´å­å‘é‡ <ul><li>eg. å‡è®¾å‘é‡æ•°æ®åº“ä¸­æ¯ä¸ªå‘é‡ä¸º1024ç»´ï¼Œåˆ†ä¸º4ä¸ª256ç»´å­å‘é‡</li></ul></li><li>2.codebookâ€“å°†nä¸ªå„è‡ªæ‰€æœ‰çš„å­å‘é‡é€šè¿‡k-meansç®—æ³•è®¡ç®—å„è‡ªçš„voronoiå›¾ï¼ˆæˆ–è€…å…¶ä»–ç®—æ³•ï¼‰ï¼Œè®¡ç®—å‡ºæ¥æœ‰nä¸ªä¸åŒçš„voronoiå›¾ï¼Œè¿™äº›voronoiå›¾å°±æ˜¯codebookï¼ˆè¿™é‡Œå‡è®¾æ¯ä¸ªvoronoiå›¾éƒ½æœ‰kä¸ªè´¨å¿ƒï¼‰ <ul><li>è®¡ç®—å‡º4ä¸ªvoronoiå›¾ï¼Œæ¯ä¸ªå­å‘é‡å¯¹åº”ä¸€ä¸ª</li></ul></li><li>3.clusteringâ€“æŠŠnä¸ªå­å‘é‡æ”¾è¿›å„è‡ªå·²èšç±»å®Œæˆçš„voronoiå›¾ä¸­è®¡ç®—å‡ºæœ€è¿‘è´¨å¿ƒcentroid <ul><li>æ¯ä¸ªvoronoiå›¾ä¸­åˆ†ä¸ºkä¸ªå­ç©ºé—´ï¼Œæ¯ä¸ªæœ‰ä¸€ä¸ªè´¨å¿ƒ</li></ul></li><li>4.quantized vectorsâ€“å°†è¿™nä¸ªæœ€è¿‘è´¨å¿ƒå½“åšæ–°çš„å‘é‡-ã€‹é‡åŒ–åå‘é‡ <ul><li>æ¯ä¸ªå­å‘é‡æœ‰é‚»è¿‘çš„è´¨å¿ƒ</li></ul></li><li>5.reproduction valuesâ€“ä»¥nä¸ªå­ç©ºé—´çš„å„è‡ªæœ€è¿‘è´¨å¿ƒçš„ç¼–å·ä¸ºæ–°å€¼ï¼Œåˆèµ·æ¥ç§°ä¸ºPQ code <ul><li>æ¯ä¸ªå­å‘é‡å°†æœ€è¿‘è´¨å¿ƒçš„ç¼–å·ä½œä¸ºæ–°å€¼ï¼Œæ¯ä¸ªå‘é‡å°±æœ‰4ä¸ªæ–°å€¼</li><li>é‚£ä¹ˆå‘é‡æ•°æ®åº“ä¸­æ¯ä¸ªå‘é‡è¢«è¡¨ç¤ºä¸º4ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯PQ code</li></ul></li></ul><figure><img src="/blog/assets/011_pq_code-wA_FK7qQ.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ ¹æ®nä¸ªå­å‘é‡å’Œæ¯ä¸ªå­ç©ºé—´çš„ä¸­çš„kä¸ªè´¨å¿ƒï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªn*kçš„è´¨å¿ƒçŸ©é˜µã€‚å–æ¯ä¸ªå­å‘é‡çš„æœ€è¿‘è´¨å¿ƒçš„ç¼–å·ï¼Œå°±æ˜¯PQ codeã€‚</p><h3 id="_13-2-æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_13-2-æŸ¥è¯¢" aria-hidden="true">#</a> 13.2. æŸ¥è¯¢</h3><p>é€šè¿‡PQ codeæ‰¾åˆ°è´¨å¿ƒï¼Œåœ¨è´¨å¿ƒæ‰€åœ¨çš„å­ç©ºé—´ä¸­æ‰¾KNNï¼ŒæŸ¥è¯¢å‘é‡queryä¸å·²å­˜åœ¨å‘é‡yçš„è·ç¦»ï¼Œé€šè¿‡å‘é‡queryä¸yçš„è´¨å¿ƒæ¥è¿‘ä¼¼æ›¿ä»£ã€‚</p><p>æŸ¥è¯¢æ­¥éª¤ï¼š</p><ul><li>1.æŸ¥è¯¢å‘é‡åˆ†æˆä¸ºå¤šä¸ªå­å‘é‡</li><li>2.è®¡ç®—æŸ¥è¯¢å‘é‡å­å‘é‡å’Œè´¨å¿ƒçŸ©é˜µçš„è·ç¦»ï¼ˆæŸ¥è¯¢å‘é‡å­å‘é‡åˆ°æ¯ä¸ªè´¨å¿ƒçš„è·ç¦»ï¼‰ï¼Œå¾—åˆ°è·ç¦»çŸ©é˜µ</li><li>3.æŸ¥è¯¢å‘é‡å’Œå‘é‡æ•°æ®åº“ä¸­æ¯ä¸ªå‘é‡çš„è·ç¦»ï¼Œé€šè¿‡å‘é‡æ•°æ®åº“ä¸­å‘é‡çš„PQ codeï¼Œæ‰¾åˆ°å¯¹åº”çš„è´¨å¿ƒï¼Œè¿›è€Œä»è·ç¦»çŸ©é˜µä¸­æ‰¾åˆ°æ¯ä¸ªæŸ¥è¯¢å­å‘é‡å¯¹åº”çš„è·ç¦»ï¼Œå°†æ¯ä¸ªå­å‘é‡å¯¹åº”è·ç¦»å¹³æ–¹åç›¸åŠ å†å¼€æ ¹å·ï¼Œè®¡ç®—å‡ºæŸ¥è¯¢å‘é‡ä¸å‘é‡æ•°æ®åº“ä¸­ä»»æ„ä¸€ä¸ªå‘é‡çš„è¿‘ä¼¼è·ç¦»</li></ul><figure><img src="/blog/assets/011_pq_distance_metrix-m-TEwSkQ.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="/blog/assets/011_pq_distance-yKEMPV1C.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_13-3-è¿›ä¸€æ­¥ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_13-3-è¿›ä¸€æ­¥ä¼˜åŒ–" aria-hidden="true">#</a> 13.3. è¿›ä¸€æ­¥ä¼˜åŒ–</h3><p>åœ¨PQåŸºç¡€ä¸Šï¼Œå†ç»“åˆè¿‘ä¼¼KNNï¼Œåšåˆ°ä¸å¿…å’Œå‘é‡æ•°æ®åº“ä¸­æ¯ä¸ªå‘é‡éƒ½è¿›è¡Œè®¡ç®—è·ç¦»</p><h2 id="_14-references" tabindex="-1"><a class="header-anchor" href="#_14-references" aria-hidden="true">#</a> 14. References</h2><p><a href="https://hub.baai.ac.cn/view/29516" target="_blank" rel="noopener noreferrer">å¤§æ¨¡å‹ä¸­é—´ä»¶ å‘é‡æ•°æ®åº“åŸç†å’Œé€‰æ‹©<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>https://www.modb.pro/db/1817186648364507136</p><p>https://www.xiaozhuai.com/similarity-search-part-4-hierarchical-navigable-small-world-hnsw.html</p></div><!--[--><!----><!--]--><footer class="page-meta"><!----><div class="meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a aria-label="æç¤ºå·¥ç¨‹ Prompt Engineering" class="vp-link nav-link prev nav-link prev" href="/blog/zh/posts/llm/012_prompt_engineering.html"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>æç¤ºå·¥ç¨‹ Prompt Engineering</div></a><a aria-label="RAGå·¥ä½œæµä¸RAGä¼˜åŒ–" class="vp-link nav-link next nav-link next" href="/blog/zh/posts/llm/010_rag_workflow.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">RAGå·¥ä½œæµä¸RAGä¼˜åŒ–<span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/blog/assets/app-MbMw1XaM.js" defer></script>
  </body>
</html>
